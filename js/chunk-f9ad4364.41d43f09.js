(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9ad4364"],{"386d":function(t,e,a){"use strict";var n=a("cb7c"),i=a("83a1"),s=a("5f1b");a("214f")("search",1,(function(t,e,a,l){return[function(a){var n=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,n):new RegExp(a)[e](String(n))},function(t){var e=l(a,t,this);if(e.done)return e.value;var o=n(t),r=String(this),c=o.lastIndex;i(c,0)||(o.lastIndex=0);var u=s(o,r);return i(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},"7e36":function(t,e,a){"use strict";a("f7f5")},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},ad43:function(t,e,a){"use strict";a.r(e);a("386d");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user custom-scroll-sv"},[e("el-card",[e("h4",{staticClass:"font-weight-bold text-success text-center mb-5"},[t._v("DANH SÁCH SINH VIÊN")]),e("div",{staticClass:"action-student mb-4"},[e("i",{staticClass:"fa-solid fa-rotate-right",on:{click:t.resetData}}),e("i",{staticClass:"fa-solid fa-download"}),e("i",{staticClass:"fa-solid fa-filter",staticStyle:{color:"rgb(3, 49, 49)"}}),e("el-select",{staticClass:"input-student",attrs:{placeholder:"Khoa",filterable:""},model:{value:t.selectedKhoa,callback:function(e){t.selectedKhoa=e},expression:"selectedKhoa"}},t._l(t.khoaList,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1),e("el-select",{staticClass:"input-student",attrs:{filterable:"",placeholder:"Lớp"},model:{value:t.selectedLop,callback:function(e){t.selectedLop=e},expression:"selectedLop"}},t._l(t.lopList,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1),e("el-input",{staticClass:"search-input",attrs:{size:"medium",placeholder:"Tìm theo tên, email..."},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e("i",{staticClass:"fa-solid fa-magnifying-glass"}),e("div",{},[e("el-button",{attrs:{type:"success",round:"",size:"medium"},on:{click:function(e){return t.goToAddNewPage()}}},[t._v("Tạo mới")])],1)],1),e("el-table",{staticClass:"custom-table",staticStyle:{width:"100%"},attrs:{data:t.currentPageData}},[e("el-table-column",{attrs:{label:"STT",width:"50"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.$index;a.row;return[e("span",[t._v(t._s(n+1+(t.pagination.current_page-1)*t.pagination.page_size))])]}}])}),e("el-table-column",{attrs:{prop:"studentCode",label:"MSV",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n          "+t._s(a.studentCode)+"\n        ")]}}])}),e("el-table-column",{attrs:{prop:"fullName",label:"Tên sinh viên",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n          "+t._s(a.fullName)+"\n        ")]}}])}),e("el-table-column",{attrs:{prop:"email",label:"Email",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n          "+t._s(a.email)+"\n        ")]}}])}),e("el-table-column",{attrs:{prop:"className",label:"Lớp",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n          "+t._s(a.className)+"\n        ")]}}])}),e("el-table-column",{attrs:{prop:"department",label:"Khoa",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n          "+t._s(a.department)+"\n        ")]}}])}),e("el-table-column",{attrs:{label:"Thao tác",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.row;return[e("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small",circle:""},on:{click:function(e){return e.preventDefault(),t.gotoDetail(n)}}}),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""},on:{click:function(e){return e.preventDefault(),t.confirmDelete(n)}}})]}}])})],1),e("div",{staticClass:"mt-2"},[e("el-pagination",{attrs:{background:"",layout:"jumper, prev, pager, next, sizes, total","page-sizes":[10,25,50,100],"page-size":t.pagination.page_size,total:t.filteredTableData.length,"current-page":t.pagination.current_page},on:{"update:pageSize":function(e){return t.$set(t.pagination,"page_size",e)},"update:page-size":function(e){return t.$set(t.pagination,"page_size",e)},"update:currentPage":function(e){return t.$set(t.pagination,"current_page",e)},"update:current-page":function(e){return t.$set(t.pagination,"current_page",e)},"current-change":t.handleCurrentPageChange,"size-change":t.handlePageSizeChange}})],1)],1)],1)},i=[],s=(a("6762"),a("2fdb"),a("d25f"),a("49e5")),l=a("b166"),o=(a("15f5"),"student"),r={data:function(){return{tableData:[],pagination:{current_page:1,page_size:10},totalData:0,search:"",selectedKhoa:"",selectedNganh:"",selectedLop:"",khoaList:[],nganhList:[],lopList:[]}},created:function(){this.loadData(),this.loadInfoToFilter(),this.api()},methods:{api:function(){Object(s["c"])()},goToAddNewPage:function(){this.$router.push({name:"".concat(o,"_new")})},gotoDetail:function(t){this.$router.push({name:"".concat(o,"_edit"),params:{id:t._id}})},confirmDelete:function(t){var e=this;this.$confirm("Xác nhận xóa ".concat(o,"?"),"Cảnh báo",{confirmButtonText:"Xóa",type:"warning"}).then((function(){Object(s["g"])(t._id).then((function(t){var a=t.data;a.success&&e.loadData()})).finally((function(){e.$wrLoading(!1)}))})).catch()},loadData:function(){var t=this;Object(s["a"])().then((function(e){e&&e.data&&e.data.success?t.tableData=e.data.students:console.error("Không thành công: ",e.data)})).catch((function(t){console.error("Lỗi khi tải điểm rèn luyện: ",t)}))},handlePageSizeChange:function(t){this.pagination.page_size=t,this.pagination.current_page=1},handleCurrentPageChange:function(t){this.pagination.current_page=t},formatDate:function(t){return Object(l["a"])(new Date(t),"dd/MM/yyyy ")},resetData:function(){this.selectedKhoa="",this.selectedNganh="",this.selectedLop="",this.search=""},loadInfoToFilter:function(){this.khoaList=this.$store.getters.khoaList,this.nghanhList=this.$store.getters.nghanhList,this.lopList=this.$store.getters.lopList}},computed:{filteredTableData:function(){var t=this;return this.tableData.filter((function(e){return(!t.search||e.fullName.toLowerCase().includes(t.search.toLowerCase()))&&(!t.selectedKhoa||e.department===t.selectedKhoa)&&(!t.selectedNganh||e.nganh===t.selectedNganh)&&(!t.selectedLop||e.className===t.selectedLop)}))},currentPageData:function(){var t=(this.pagination.current_page-1)*this.pagination.page_size,e=t+this.pagination.page_size;return this.filteredTableData.slice(t,e)}}},c=r,u=(a("7e36"),a("0c7c")),d=Object(u["a"])(c,n,i,!1,null,null,null);e["default"]=d.exports},f7f5:function(t,e,a){}}]);